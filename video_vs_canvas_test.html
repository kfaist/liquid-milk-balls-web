<!doctype html>
<html><head><meta charset="utf-8"/><title>Video vs Canvas Test</title>
<style>
body{margin:0;background:#000;display:flex}
#video,#canvas{width:50vw;height:100vh;object-fit:cover}
#info{position:fixed;top:10px;left:10px;background:rgba(0,255,0,0.9);color:#000;padding:15px;font:14px monospace;z-index:1000;max-width:400px}
</style></head><body>
<video id="video" autoplay playsinline muted></video>
<canvas id="canvas" width="1280" height="720"></canvas>
<div id="info">Starting...</div>
<script>
const video=document.getElementById('video'),canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d'),info=document.getElementById('info');
let frameCount=0;
navigator.mediaDevices.getUserMedia({video:{width:1280,height:720}}).then(stream=>{
video.srcObject=stream;
info.innerHTML='Stream active<br>Left: video element<br>Right: canvas render';
function draw(){
if(video.readyState>=video.HAVE_CURRENT_DATA){
ctx.drawImage(video,0,0,canvas.width,canvas.height);
frameCount++;
info.innerHTML='RENDERING<br>Video: '+video.videoWidth+'x'+video.videoHeight+'<br>Canvas: '+canvas.width+'x'+canvas.height+'<br>Frames: '+frameCount+'<br>Video paused: '+video.paused+'<br>Video readyState: '+video.readyState;
}
requestAnimationFrame(draw);
}
video.onloadedmetadata=()=>{
info.innerHTML+='<br>Metadata loaded!';
draw();
};
}).catch(e=>{info.innerHTML='ERROR: '+e.message;info.style.background='red';info.style.color='white'});
</script></body></html>
